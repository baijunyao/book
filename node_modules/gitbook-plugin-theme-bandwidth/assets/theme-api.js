require(["gitbook","jquery"],function(a,e){function n(){return"btn-"+C++}function s(a,e,n,s){var t=a.children(e).length;0>n&&(n=Math.max(0,t+1+n)),a.append(s),t>n&&a.children(e).eq(n).before(a.children(e).last())}function t(a){a.preventDefault()}function o(a){return a=e.extend({label:"",icon:"",text:"",position:"left",className:"",onClick:t,dropdown:null,index:null,id:n()},a||{}),v.push(a),i(a),a.id}function i(a){var n,t=e(".api-code-top"),o=e("<a>",{"class":"btn",text:a.text?" "+a.text:"","aria-label":a.label,href:""});o.click(a.onClick),a.icon&&e("<i>",{"class":a.icon}).prependTo(o),o.addClass(a.className),n=o,n.addClass("js-langbar-action"),s(t,".btn",a.index,n)}function l(){e(".js-langbar-action").remove(),v.forEach(i)}function d(a){v=e.grep(v,function(e){return-1==a.indexOf(e.id)}),l()}function r(e){m=a.storage.get("themeApi",{split:e.split,currentLang:null})}function h(){a.storage.set("themeApi",m),c()}function c(){f(),e(".book").toggleClass("two-columns",m.split),u=e(".api-method-sample"),u.each(function(){var a=!(e(this).data("lang")==m.currentLang);e(this).toggleClass("hidden",a)})}function g(){d(b),b=[],u=e(".api-method-sample");var a=[],n=!1;u.each(function(){var s,t,o=!1,i=e(this).data("lang"),l=e(this).data("name");i==m.currentLang&&(n=!0,o=!0),s=e.grep(a,function(a){return a.name==l}),t=!!s.length,t||a.push({name:l,lang:i,"default":o})});var s=0;e.each(a,function(t,i){var l,d,r=i["default"]||!n&&t==a.length-1;d=0===s?"lang-switcher first-code-lang "+(r?" active ":""):s===a.length-1?"lang-switcher last-code-lang "+(r?" active ":""):"lang-switcher"+(r?" active ":""),l=o({text:i.name,position:"left",className:d,index:s,onClick:function(a){m.currentLang=i.lang,h(),e(".btn.lang-switcher.active").removeClass("active"),e(a.currentTarget).addClass("active")}}),b.push(l),s+=1,r&&(m.currentLang=i.lang)})}function p(){"shown"!=localStorage.getItem("popState")&&e(window).width()<980?(e("#banner").show(),e(".head").has("#banner").siblings(".book-body, .book-summary").css("height","calc(100% - 200px)"),e(".head").has("#banner").siblings().children().find(".book-header").css("top","200px"),localStorage.setItem("popState","shown")):"shown"!=localStorage.getItem("popState")?(e("#banner").show(),e(".head").has("#banner").siblings(".book-body, .book-summary").css("height","calc(100% - 120px)"),e(".head").has("#banner").siblings().children().find(".book-header").css("top","120px"),localStorage.setItem("popState","shown")):e(".book-body, .book-summary").css("height","calc(100% - 70px)"),e("#bannerClose").click(function(a){e(".head").has("#banner").siblings(".book-body, .book-summary").css("height","calc(100% - 70px)"),e(".head").has("#banner").siblings().children().find(".book-header").css("top","70px"),e("#banner").hide()})}function f(){var a=e(".api-method-sample > pre");a.each(function(){e(this).outerHeight()>e(this).parent().height()?e(this).parent().addClass("expandable"):e(this).parent().after("")})}var u,m,b=[],w=[{config:"light",text:"Light",id:0},{config:"dark",text:"Dark",id:3}],v=[],C=0;a.events.bind("start",function(e,n){var s=n["theme-bandwidth"];a.fontsettings.setThemes(w),a.fontsettings.setTheme(s.theme),r(s)}),a.events.on("page.change",function(){g(),c(),p(),f(),e(".expandable").after('<div class="expandFade"><div class="expandCode"></div></div>'),e(".expandFade").click(function(){e(this).prev().toggleClass("collapse"),e(this).children(".expandCode").toggleClass("showLessText")}),e(".markdown-section").find("a[target='_blank']").addClass("externalLink"),e(".markdown-section").find("a[target='_blank']:not(:has(>code)):not(:has(>img)):not(td > a)").append('&nbsp;<i class="icons8-open-in-window"></i>'),e("a").has("code").addClass("anchor-code"),e("a").has("img").addClass("aimg"),e(".externalLink").hover(function(){e(this).addClass("show")},function(){e(this).removeClass("show")}),e(".markdown-section").find("table").wrap("<div class='table-wrap'></div>"),e("table").each(function(){var a=this,n=e(this).parent(".table-wrap"),s=e(n).width(),t=e(a).outerWidth();t>s?e(n).addClass("shadow-r"):e(n).removeClass("shadow-r"),e(n).scroll(function(){var a=e(this).scrollLeft();a==t-s?e(this).removeClass("shadow-rl shadow-r").addClass("shadow-l"):a>0?e(this).removeClass("shadow-l shadow-r").addClass("shadow-rl"):e(this).removeClass("shadow-l shadow-rl").addClass("shadow-r")}),e(window).resize(function(){var o=e(n).scrollLeft();s=e(n).width(),t=e(a).outerWidth(),t>s?o==t-s?e(n).removeClass("shadow-rl shadow-r").addClass("shadow-l"):o>0?e(n).removeClass("shadow-l shadow-r").addClass("shadow-rl"):e(n).removeClass("shadow-l shadow-rl").addClass("shadow-r"):e(n).removeClass("shadow-l shadow-rl shadow-r")})})}),a.events.on("comment.toggled",function(e,n,s){if(n.parents(".api-method-definition").length){var t=a.state.$book.find(".page-wrapper");t.toggleClass("comments-open-from-definition",s&&m.split)}})});
